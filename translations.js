// Language translations for Mirror Lazer Break Game
export const translations = {
    he: {
        // Main UI
        title: "Mirror Lazer Break - ×©×‘×™×¨×ª ×œ×™×™×–×¨ ×‘×ž×¨××•×ª",
        score: "× ×™×§×•×“:",
        lives: "×—×™×™×:",
        time: "×–×ž×Ÿ:",
        level: "×©×œ×‘:",
        streak: "×¨×¦×£:",
        
        // Buttons
        start: "×”×ª×—×œ",
        pause: "×¢×¦×•×¨",
        next: "×©×œ×‘ ×”×‘×",
        previous: "×©×œ×‘ ×§×•×“×",
        reset: "××¤×¡ ×©×œ×‘",
        instructions: "×”×•×¨××•×ª",
        soundOn: "ðŸ”Š ×§×•×œ ×¤×•×¢×œ",
        soundOff: "ðŸ”‡ ×§×•×œ ×›×‘×•×™",
        
        // Speed controls
        slow: "××™×˜×™",
        medium: "×‘×™× ×•× ×™",
        fast: "×ž×”×™×¨",
        speed: "×ž×”×™×¨×•×ª:",
        
        // Level selector
        levelSelect: "×‘×—×™×¨×” ×ž×”×™×¨×” ×©×œ ×©×œ×‘:",
        level1: "×©×œ×‘ 1",
        level2: "×©×œ×‘ 2",
        level3: "×©×œ×‘ 3",
        level4: "×©×œ×‘ 4",
        level5: "×©×œ×‘ 5",
        level6: "×©×œ×‘ 6",
        level7: "×©×œ×‘ 7",
        level8: "×©×œ×‘ 8",
        
        // Instructions modal
        instructionsTitle: "××™×š ×œ×©×—×§ Mirror Lazer Break",
        objective: "×ž×˜×¨×”:",
        objectiveText: "×”×“×¨×™×›×• ××ª ×§×¨×Ÿ ×”×œ×™×™×–×¨ ×œ×¤×’×•×¢ ×‘×ž×˜×¨×ª ×”×—×œ×œ×™×ª!",
        controls: "×‘×§×¨×”:",
        controlsText: [
            "×œ×—×¦×• ×¢×œ ×”×ž×¨××•×ª ×›×“×™ ×œ×¡×•×‘×‘ ××•×ª×Ÿ ×•×œ×©× ×•×ª ××ª ×›×™×•×•×Ÿ ×”×œ×™×™×–×¨",
            "×”×©×ª×ž×©×• ×‘×›×¤×ª×•×¨×™ ×”×‘×§×¨×” ×›×“×™ ×œ×”×ª×—×™×œ, ×œ×¢×¦×•×¨ ××• ×œ××¤×¡ ××ª ×”×©×œ×‘",
            "×”×™×ž× ×¢×• ×ž×¤×’×™×¢×” ×‘×›×•×›×‘×™ ×œ×›×ª (×ž×›×©×•×œ×™×) ××• ×ž×™×¦×™××” ×ž×”×ž×¡×š"
        ],
        gameElements: "×¨×›×™×‘×™ ×”×ž×©×—×§:",
        gameElementsText: [
            "ðŸš€ ×—×œ×œ×™×ª: ×”×ž×˜×¨×” ×©×œ×›× - ×¤×’×¢×• ×‘×” ×›×“×™ ×œ× ×¦×—!",
            "âš¡ ×œ×™×™×–×¨: ×¢×•×§×‘ ××—×¨ × ×ª×™×‘ ×™×©×¨ ×¢×“ ×©×”×•× ×¤×•×’×¢ ×‘×ž×©×”×•",
            "ðŸª ×›×•×›×‘×™ ×œ×›×ª: ×ž×›×©×•×œ×™× ×©×ž×¡×™×™×ž×™× ××ª ×”×ž×©×—×§ ×× ×¤×•×’×¢×™× ×‘×”×",
            "ðŸªž ×ž×¨××•×ª: ×œ×—×¦×• ×›×“×™ ×œ×¡×•×‘×‘ ×•×œ×”×¤× ×•×ª ×ž×—×“×© ××ª ×”×œ×™×™×–×¨",
            "ðŸ”´ ×ž×›×©×•×œ×™× × ×¢×™×: ×›×“×•×¨×™× × ×¢×™× ×ž×¡×•×›× ×™× (×©×œ×‘ 6+)",
            "â¤ï¸ ×—×™×™× × ×•×¡×¤×™×: ×ž×¢× ×§ ×—×™×™× × ×•×¡×¤×™× (×©×œ×‘ 3+)",
            "â­ × ×™×§×•×“ ×‘×•× ×•×¡: × ×§×•×“×•×ª ×‘×•× ×•×¡ (×©×œ×‘ 3+)",
            "â° ×”××˜×”: ×ž××˜ ×ž×›×©×•×œ×™× × ×¢×™× (×©×œ×‘ 3+)"
        ],
        scoring: "× ×™×§×•×“:",
        scoringText: "×”×©×œ×ž×” ×ž×”×™×¨×” ×™×•×ª×¨ = × ×™×§×•×“ ×’×‘×•×” ×™×•×ª×¨! ×‘× ×• ×¨×¦×¤×™× ×œ× ×§×•×“×•×ª ×‘×•× ×•×¡!",
        shortcuts: "×§×™×¦×•×¨×™ ×ž×§×œ×“×ª:",
        shortcutsText: "×¨×•×•×—=×”×ª×—×œ/×¢×¦×•×¨ | R=××¤×¡ | N=×”×‘× | P=×§×•×“×",
        close: "×¡×’×•×¨",
        copyright: "Â© 2019 ××™×ª×ž×¨ ×ž×–×¨×—×™ ×›×œ ×”×–×›×•×™×•×ª ×©×ž×•×¨×•×ª",
        
        // Language selector
        language: "×©×¤×”:",
        hebrew: "×¢×‘×¨×™×ª",
        english: "English"
    },
    
    en: {
        // Main UI
        title: "Mirror Lazer Break",
        score: "Score:",
        lives: "Lives:",
        time: "Time:",
        level: "Level:",
        streak: "Streak:",
        
        // Buttons
        start: "Start",
        pause: "Pause",
        next: "Next Level",
        previous: "Previous Level",
        reset: "Reset Level",
        instructions: "Instructions",
        soundOn: "ðŸ”Š Sound On",
        soundOff: "ðŸ”‡ Sound Off",
        
        // Speed controls
        slow: "Slow",
        medium: "Medium",
        fast: "Fast",
        speed: "Speed:",
        
        // Level selector
        levelSelect: "Quick Level Select:",
        level1: "Level 1",
        level2: "Level 2",
        level3: "Level 3",
        level4: "Level 4",
        level5: "Level 5",
        level6: "Level 6",
        level7: "Level 7",
        level8: "Level 8",
        
        // Instructions modal
        instructionsTitle: "How to Play Mirror Lazer Break",
        objective: "Objective:",
        objectiveText: "Guide the laser beam to hit the spaceship target!",
        controls: "Controls:",
        controlsText: [
            "Click on mirrors to rotate them and change laser direction",
            "Use control buttons to start, pause, or reset the level",
            "Avoid hitting planets (obstacles) or going off-screen"
        ],
        gameElements: "Game Elements:",
        gameElementsText: [
            "ðŸš€ Spaceship: Your target - hit it to win!",
            "âš¡ Laser: Follows a straight path until it hits something",
            "ðŸª Planets: Obstacles that end the game if hit",
            "ðŸªž Mirrors: Click to rotate and redirect the laser",
            "ðŸ”´ Moving Obstacles: Dangerous moving spheres (Level 6+)",
            "â¤ï¸ Life Power-up: Grants an extra life (Level 3+)",
            "â­ Score Power-up: Bonus points (Level 3+)",
            "â° Slow Power-up: Slows moving obstacles (Level 3+)"
        ],
        scoring: "Scoring:",
        scoringText: "Faster completion = higher score! Build streaks for bonus points!",
        shortcuts: "Keyboard Shortcuts:",
        shortcutsText: "Space=Start/Pause | R=Reset | N=Next | P=Previous",
        close: "Close",
        copyright: "Â© 2019 Itamar Mizrahi All Rights Reserved",
        
        // Language selector
        language: "Language:",
        hebrew: "×¢×‘×¨×™×ª",
        english: "English"
    }
};

export class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('gameLanguage') || 'he';
        this.translations = translations;
    }
    
    setLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('gameLanguage', lang);
        this.updateUI();
        this.updateDocumentDirection();
    }
    
    getText(key) {
        return this.translations[this.currentLanguage][key] || key;
    }
    
    updateDocumentDirection() {
        const html = document.documentElement;
        if (this.currentLanguage === 'he') {
            html.setAttribute('dir', 'rtl');
            html.setAttribute('lang', 'he');
        } else {
            html.setAttribute('dir', 'ltr');
            html.setAttribute('lang', 'en');
        }
    }
    
    updateUI() {
        // Update title
        const title = document.querySelector('h1');
        if (title) title.textContent = this.getText('title');
        
        // Update document title
        document.title = this.getText('title');
        
        // Update stats labels
        document.querySelectorAll('[data-key]').forEach(element => {
            const key = element.getAttribute('data-key');
            if (key && this.translations[this.currentLanguage][key]) {
                if (element.tagName === 'OPTION') {
                    element.textContent = this.getText(key);
                } else if (element.tagName === 'LABEL') {
                    element.textContent = this.getText(key);
                } else if (element.tagName === 'BUTTON') {
                    element.textContent = this.getText(key);
                } else {
                    element.textContent = this.getText(key);
                }
            }
        });
        
        // Update instructions modal
        this.updateInstructionsModal();
        
        // Update language selector
        this.updateLanguageSelector();
        
        // Add transition class for smooth changes
        document.body.classList.add('language-transition');
        setTimeout(() => {
            document.body.classList.remove('language-transition');
        }, 300);
    }
    
    updateInstructionsModal() {
        const modal = document.querySelector('#instructionsModal');
        if (!modal) return;
        
        const title = modal.querySelector('h2');
        if (title) title.textContent = this.getText('instructionsTitle');
        
        const instructions = modal.querySelector('.instructions');
        if (instructions) {
            instructions.innerHTML = `
                <p><strong>${this.getText('objective')}</strong> ${this.getText('objectiveText')}</p>
                <p><strong>${this.getText('controls')}</strong></p>
                <ul>
                    ${this.getText('controlsText').map(text => `<li>${text}</li>`).join('')}
                </ul>
                <p><strong>${this.getText('gameElements')}</strong></p>
                <ul>
                    ${this.getText('gameElementsText').map(text => `<li>${text}</li>`).join('')}
                </ul>
                <p><strong>${this.getText('scoring')}</strong> ${this.getText('scoringText')}</p>
                <p><strong>${this.getText('shortcuts')}</strong> ${this.getText('shortcutsText')}</p>
            `;
        }
    }
    
    updateLanguageSelector() {
        const selector = document.getElementById('languageSelect');
        if (selector) {
            selector.value = this.currentLanguage;
        }
    }
}
